<!DOCTYPE html>

<html>
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">
      <title>JB Monitor- Dashboard</title>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">      <link rel="stylesheet" type="text/css" href="/assets/css/dashboard.css">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
      <script src="https://unpkg.com/@popperjs/core@2"></script>
    </head>

    <body>
      <!-- Mobile Nav -->
        <nav class="Responsive__Nav">
          <ul class="Responsive__Navbar">
            <div class="nav-links-mobile">
              <a class='inline ' href='/dashboard'><div class="nav-link active">Dashboard</div></a>
              <a class='inline' href='/analytics'><div class="nav-link">Analytics</div></a>
              <a class='inline' href='/interview'><div class="nav-link">Interview</div></a>
              <a class='inline' href='/recommendation'><div class="nav-link">Recommendation</div></a>
              <a class='inline' href='/wishlist'><div class="nav-link">Wishlist</div></a>
            </div>
          </ul>
        </nav>
        <li class="Navbar__Responsive">
          <div class="Navbar__hamburger"></div>
          <div class="Navbar__hamburger"></div>
          <div class="Navbar__hamburger"></div>
        </li>

      <!-- Responsive Nav -->
      <div class="parent">
        <div class="div0 header-cont">
          <div class="page-header">
            <small class="page-title"><b>Dashboard</b></small>
          </div>
        </div>
        <div class="div1 side-nav">
          <div class="user-info vertical-align">
            <small><b>JB Monitor</b></small>
            <hr/>
            <small>Welcome back,</small>
            <b class="username"><%= currentUser.firstName %></b>
          </div>
          <div class="nav-links">
            <a class='inline ' href='/dashboard'><div class="nav-link active">Dashboard</div></a>
            <a class='inline' href='/analytics'><div class="nav-link">Analytics</div></a>
            <a class='inline' href='/interview'><div class="nav-link">Interview</div></a>
            <a class='inline' href='/recommendation'><div class="nav-link">Recommendation</div></a>
            <a class='inline' href='/wishlist'><div class="nav-link">Wishlist</div></a>
          </div>
          <div class="btns">
            <a href="/account"><button class="main-button btn">Profile</button></a>
            <a href="/logout"><button class="secondary-button btn">Logout</button></a>
          </div>
          <div class="moment">
            <small><b id="date"></b></small>
          </div>
        </div>
        <!-- Edit Job Modal -->
        <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="editModalLabel">Edit Job</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                  <form action="/dashboard/edit" method="POST" id="edit-job">
                    <div class="mb-3">
                      <label for="recipient-name" class="col-form-label">Company:</label>
                      <input type="text" class="form-control" id="title" name="title" value="<%= carddata.title %>">
                    </div>
                    <div class="mb-3">
                      <label for="recipient-name" class="col-form-label">Job Type:</label>
                      <input type="text" class="form-control" id="job" name="job">
                    </div>

                    <div class="mb-3">
                        <label for="message-text" class="col-form-label">Application Status: </label>

                        <select name="status" id="status" name="status" class="custom-select" onchange="cardStatus()" value="<%= carddata.status %>">
                          <option>Pending</option>
                          <option>Interview Offer</option>
                          <option>Job Offered</option>
                          <option>Offer Declined</option>
                        </select>
                    </div>
                    <div class="mb-3">
                      <label for="message-text" class="col-form-label">Date Applied: </label>
                      <input type="date" id="dateApplied" name="dateApplied" name="trip-start" value="<%= carddata.dateApplied %>">
                    </div>
                  </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button class="btn btn-primary" type="submit" form="edit-job" >Save changes</button>
              </div>
            </div>
          </div>
        </div>
        <div class="modal" tabindex="-1" role="dialog" id="deleteModal">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Delete Job</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <p>Are you sure?</p>
                <form action="/dashboard/delete" id="delete-job" method="POST">

                </form>
              </div>
              <div class="modal-footer">
                <button class="btn btn-danger" type="submit" form="delete-job">Delete</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
              </div>
            </div>
          </div>
        </div>
        <!-- Modal -->
        <div class="modal fade" id="myModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Add a Job</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <form action="/dashboard/new" method="POST" id="add-job">
                  <div class="mb-3">
                    <label for="recipient-name" class="col-form-label">Company:</label>
                    <input type="text" class="form-control" id="title" name="title" value="<%= carddata.title %>">
                  </div>
                  <div class="mb-3">
                    <label for="recipient-name" class="col-form-label">Job Type:</label>
                    <input type="text" class="form-control" id="job" name="job" value="<%= carddata.job %>">
                  </div>
                  <div class="mb-3">
                    <label for="recipient-name" class="col-form-label">Description:</label>
                    <textarea type="text" class="form-control" id="desc" name="desc" value="<%= carddata.desc %>"></textarea>
                  </div>
                  <div class="mb-3">
                    <label for="message-text" class="col-form-label">Application Status: </label>

                    <select name="status" id="status" name="status" class="custom-select" onchange="cardStatus()" value="<%= carddata.status %>">
                      <option>Pending</option>
                      <option>Interview Offer</option>
                      <option>Job Offered</option>
                      <option>Offer Declined</option>
                    </select>
                  </div>
                  <div class="mb-3">
                    <label for="message-text" class="col-form-label">Date Applied: </label>
                    <input type="date" id="dateApplied" name="dateApplied" name="trip-start" value="<%= carddata.dateApplied %>">
                  </div>
                </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button class="btn btn-primary" type="submit" form="add-job" >Save changes</button>
              </div>
            </div>
          </div>
        </div>

        <div class="modal" tabindex="-1" role="dialog" id="deleteModal">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="deleteModallabel">Delete Job</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <p class="delete-text" >Are you sure?</p>
                <form action="/dashboard/delete" id="delete-job" method="POST">

                </form>
              </div>
              <div class="modal-footer">
                <button class="btn btn-danger" type="submit" form="delete-job">Delete</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
              </div>
            </div>
          </div>
        </div>
        <div class="modal fade" id="openedModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">

          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Viewing Job</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body" id="fullModal">
                  <h5 class="card-title" id="jobTitle">Amazon</h5>
                  <h6 class="card-subtitle mb-2 text-muted" id="jobType">Software Engineer</h6>
                <h6 class="card-subtitle mb-2 text-muted" id="jobStatus">Software Engineer</h6>

                <p class="card-text" id="jobDesc">
                    Amazon Selection and Catalog Systems (ASCS) builds the systems that host and run the world’s largest e-Commerce products catalog. Our high scale distributed systems process hundreds of millions of updates on the billions of products to power the online buying experience for hundreds of millions of Amazon's customers worldwide, so they can find, discover and buy anything they want 24x7x365.
                    The Catalog Metadata Platform team within ASCS is working to redefine the way products are configured in the world's largest e-Commerce catalog building the Catalog Configuration Platform and Analytics-driven Admin Tooling
                    We are looking for a passionate, results-oriented, innovative Software Engineer to drive the design and implementation of the large-scale, multi-tiered, distributed software applications, databases, tools, systems and services that power the Earth’s largest e-Commerce selection. A successful candidate will have a strong software development background, exceptional design skills, excellent problem solving, and communication skills. Daily work will involve liaising with Amazon business owners, other retail senior developers and principals.

                    You will learn a lot about designing and developing massively distributed systems, big data systems and web services while pushing the boundaries of scale and performance. Technologies involved include NoSQL databases, Java, JavaScript, Linux, Elastic Computing, Search and Analytics. Come join us and solve some of the most challenging technical problems on the planet in growing and supporting the largest product selection catalog ever to be!
                  </p>
                  <a href="#" class="card-link">Card link</a>
                  <a href="#" class="card-link">Another link</a>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
              </div>
            </div>
          </div>
        </div>
        <div class="div2 main-area">
          <div class="filters">
            <input class="form-control" id="searchInput" type="text" onkeyup="cardSearch()" placeholder="Search...">
            <select name="cars" id="statusInput" class="custom-select" onchange="cardStatus()">
              <option selected value="">Status</option>
              <option>Pending</option>
              <option>Interview Offer</option>
              <option>Job Offered</option>
              <option>Offer Declined</option>
            </select>
            <i class="bi bi-three-dots-vertical"></i>
          </div>
          <br>
          <div class="card-deck" id="cardTemplate">

          </div>
        </div>
      </div>
      <button type="button" class="btn btn-primary btn-floating" id="floatingbutton" data-bs-toggle="modal" data-bs-target="#myModal">
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
          <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
        </svg>
      </button>
    </body>
    <script>
      var cards = '<%- JSON.stringify(carddata) %>';
    </script>
    <script src="/assets/js/dashboard/nav.js"> </script>
    <script src="/assets/js/dashboard/cards.js"></script>



</html>